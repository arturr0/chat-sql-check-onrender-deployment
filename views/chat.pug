doctype html
html(lang='en')
    head
        meta(charset='UTF-8')
        meta(name='viewport' content='width=device-width, initial-scale=1.0')
        title Chat
        script(src='https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.4.1/socket.io.js')
        script(src='https://code.jquery.com/jquery-3.6.0.min.js')
        link(rel='stylesheet' href='/css/index.css')
        link(rel='stylesheet' href='/css/fontello.css')
        style.
            textarea[autoresize] {
                display: block;
                overflow: hidden;
                resize: none;
            }
    body
        //- //- h1 Chat
        //- //- ul#messages
        //- form#chat-form
        //-     input#rec(autocomplete='off', placeholder='Recipient')
        //-     button Send
        //- div#typingIndicator(style='display:none') Typing...
        //- form#findUser
        //-     button(type='submit') Find
        div#mainContent
            input(type="file", id="fileInput", accept="image/*")
            div#options
                input#search-input(type='text', placeholder='Find User')
                div#users
            div#menu
                div#optionsButton
                    | OPTIONS
                div#crypto
                    | CRYPTO
                div#received
                    | RECEIVED
                div#invitations
                    | INVITATIONS
            div#friendsAndChat
                div#friends
                #chatContainer
                    #chat
                        div#receiver
                        div#message-container
                    //- #messagesContainer
                    div#inputAndIcons
                        textarea#message(autoresize='' style='margin: 0; max-width: 100vw; min-height: 80px; max-height: 50vh;')
                        #chatIcons
                            i.icon-keyboard
        script(src='/chat.js' type='text/javascript')
        script.
            $(document).ready(function() {
                $('textarea').on('input', function() {
                    $(this).outerHeight(38).outerHeight(this.scrollHeight);
                    if (typeof receiver !== 'undefined') scroll();
                });
            });
